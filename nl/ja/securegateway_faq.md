---

copyright:
  years: 2015, 2018
lastupdated: "2018-11-08"

---

# よくあるご質問

## OSI モデル層
{: #osi}

### 質問
Secure Gateway サービスは、OSI モデルのどの層に相当しますか?

### 答え
Secure Gateway サービスは、OSI モデルの第 4 層に相当します。

## サポートされる TLS バージョン
{: #tls}

### 質問
Secure Gateway サービスは、TLS のどのバージョンをサポートしますか?

### 答え
Secure Gateway サービスは、TLS バージョン 1.2 をサポートします。

## ゲートウェイまたは宛先を使用不可にする理由
{: #disabled}

### 質問

ゲートウェイまたは宛先を使用不可にする場合の理由は何ですか?

### 答え
以下のいずれかの理由で、宛先またはゲートウェイを使用不可にする場合があります。

- 宛先を作成したが、セキュリティーをセットアップしていない。  この場合、セキュリティーがセットアップされるまで、宛先を使用不可にすることがあります。
- サービスを更新中のため、サービスをユーザーに対して利用不可にしたい。  この場合、必要なゲートウェイを一時的に使用不可にして、サービスが更新されるまで待つことがあります。
- フロントエンドにはゲートウェイおよび宛先をすべてセットアップしたが、バックエンドはまだ構築中である。  この場合、バックエンドの構築が完了するまで、ゲートウェイまたは宛先を使用不可にします。

ゲートウェイまたは宛先を使用不可にする方法について詳しくは、[Secure Gateway サービス・インスタンスの管理方法](./securegateway_managing.html)を参照してください。

## 複数のスペースにわたる自動化を作成するために推奨される手法は、どのようなものですか?
{: #automation-spaces}

### 質問
お客様の環境に 1 つの組織と 3 つのスペースがあります。1 つのスペースは開発用、もう 1 つはステージング用、最後の 1 つは実動用です。このお客様は、単一の Secure Gateway インスタンスを作成するべきですか、それとも複数のインスタンス (例えば、スペースごとに 1 つ) を作成するべきでしょうか? このお客様が複数のゲートウェイを作成できる場合、1 つの Node.js アプリケーションを再使用して各スペースにゲートウェイおよび宛先を作成することに関する考慮事項はありますか?

### 答え

- 3 つのすべてのスペースに対して単一 Secure Gateway インスタンスを作成することができます。  ただし、ゲートウェイおよび宛先についての[特定のプランでの制限](./securegateway_plans.html)を考慮する必要があります。
- Secure Gateway はサービス・バインディングを必要としないため、Node.js アプリケーションの再使用に関する追加の考慮事項はありません。


## 複数の組織にわたる自動化を作成するために推奨される手法は、どのようなものですか?
{: #automation-orgs}

### 質問
お客様の環境に 3 つの組織 (開発用に 1 つ、ステージング用に 1 つ、実動用に 1 つ) があります。組織ごとに 1 つの Secure Gateway サービス・インスタンスが必要ですか? また、構成はその組織内のすべてのスペースで使用可能ですか?

### 答え

- 各組織に Secure Gateway サービス・インスタンスがある必要はありません。いずれかの組織に 1 つのインスタンスを作成すれば、他のすべての環境からそのインスタンス内のゲートウェイを使用できます。このセットアップの場合は、ゲートウェイおよび宛先についての[特定のプランでの制限](./securegateway_plans.html)を考慮する必要があります。
- 各組織に 1 つずつ Secure Gateway サービス・インスタンスがあるようにできます。その構成はすべてのスペースで使用可能になります。

## アプリは同じスペース内にある必要がありますか?
{: #app-space}

### 質問
Node.js アプリを Secure Gateway サービスと同じ {{site.data.keyword.Bluemix_notm}} スペースで実行する必要はありますか?

### 答え
いいえ。 Secure Gateway サービスと同じ {{site.data.keyword.Bluemix_notm}} スペースでアプリを実行する必要はありません。

## Secure Gateway サーバー・ログを取得できますか?
{: #server-logs}

### 質問
Secure Gateway サーバーのエラー・ログを取り出すことはできますか?

### 答え
サーバーのエラー・ログを取り出すことはできません。  要求を行った時点で生成されたエラーのみが表示可能です。

## Secure Gateway の機能状態には何がありますか?
{: #states}

### 質問
ゲートウェイと宛先のライフサイクルの状態には、何がありますか?

### 答え

#### 非機能状態
新しい階層型プラン料金モデルが 1.7.0 リリースで導入されました。このモデルでは、ゲートウェイと宛先の両方に「アクティブ」または「非アクティブ」のマークを付けることができます。新しいプラン請求構造には、ユーザーが所有するゲートウェイおよび宛先の数に対して課金される部分があります。

- 非アクティブ項目は請求されません。
- 非アクティブな宛先には、プロビジョンされたクラウド・ポートはありません。
- 非アクティブなゲートウェイ内のすべての宛先も非アクティブになり、ゲートウェイがアクティブに設定されるまでは再アクティブ化できません。
- 非アクティブ項目は非機能状態と見なされます。非アクティブ項目がいずれかの機能状態になることはありません。

#### 機能状態
ゲートウェイまたは宛先は、アクティブのマークが付けられると請求されるようになります。ゲートウェイおよび宛先のアクティブ状態は以下のとおりです。

- 有効 -ゲートウェイまたは宛先は、通常の環境で使用する準備ができています。
- 無効 -ゲートウェイまたは宛先は無効になっています。
    - ゲートウェイ - クライアントは、無効のゲートウェイにデータを流すことはできません。
    - 宛先 - クライアントは、無効の宛先への接続を作成できません。

## Secure Gateway クライアントでのデータ・アクティビティーを知るには、どうすればよいですか?
{: #data-size}

### 質問
Secure Gateway クライアントを通過するデータ・アクティビティーを知るには、どうすればよいですか?

### 答え
SecureGateway クライアントで、ログ・レベルを TRACE に変更します。要求が送信された後、以下の情報が表示されるようになります。

要求アプリケーションから送信されたデータ・サイズ:
```
[TRACE] Connection #<connection ID> transmitted data: <size> bytes
```

宛先から送信されたデータ・サイズ:
```
[TRACE] Connection #<connection ID> received data: <size> bytes
```

## Secure Gateway のリアルタイム接続数を取得するには、どうすればよいですか?
{: #connect-num}

### 質問
リアルタイム接続情報である Secure Gateway クライアントとの間で送受信されたデータ・サイズを取得するには、どうすればよいですか?

### 答え

- Secure Gateway クライアントの対話式コマンド・ラインで `s` を入力すると、接続状況詳細が出力されます。 
- Secure Gateway クライアント UI で、「接続情報」メニューをクリックします。

以下の接続統計情報が表示されます。 
- 伝送された総データ・サイズ。
- 受信された総データ・サイズ。
- 合計接続数。
- リアルタイムのアクティブ接続。

注: Secure Gateway UI では現行接続の数はリアルタイムでは表示されません。リアルタイム接続情報を取得するには、Secure Gateway クライアントで上記の方法を使用してください。

## 接続をよりセキュアにするために推奨されるのはどのような構成ですか?
{: #secure-app}

### 質問
接続をよりセキュアにするために推奨されるのはどのような構成ですか?

### 答え

#### 相互認証の使用
オンプレミス宛先の両サイドで相互認証を有効にすると、Secure Gateway がよりセキュアになります。ユーザー認証サイドでは、要求が TLS/HTTPS 経由の場合にクライアント証明書を使用して認証することによって Secure Gateway クラウド・ノードのアクセスを制限するために、相互認証を有効にします。リソース認証サイドでは、宛先エンドポイントに接続するときに適切な資格情報を提示し、オンプレミス・リソースへのアクセスを暗号化されたセキュアなものにするために、相互認証を有効にします。詳しくは、[相互認証の構成](./securegateway_destination.html#mutual-auth)および [Node.js TLS 相互認証](./securegateway_tls-ma.html#node-js-tls-mutual-authentication)を参照してください。

#### IP テーブル・ルールの設定 (オンプレミス宛先用)
オンプレミス宛先の Secure Gateway クラウド・ホストおよびポートは、パブリック・スペースにあります。したがって、デフォルトでは誰でもアクセスできます。
Secure Gateway のトラフィック・アクセスを制御するには、特定の範囲の IP およびポートによるアクセスのみを許可してオンプレミス・リソースを保護するように IP テーブル・ルールを設定します。Secure Gateway の IP テーブル・ルールの構成方法について詳しくは、[IP テーブル・ルール](./securegateway_destination.html#configuring-network-security)を参照してください。

#### アクセス制御リストの構成 (オンプレミス宛先用)
オンプレミス・リソースへのアクセスを許可または制限するアクセス制御リストの構成がサポートされることにより、特定の宛先ホストおよびポートに対するアクセス権限を指定することによって、オンプレミス宛先がよりセキュアになります。オンプレミス宛先のセキュリティーを強化するために、許可または制限される HTTP/S 経路も ACL 項目に定義することをお勧めします。詳しくは、[アクセス制御リスト](./securegateway_acl.html#access-control-list)および [ACL を使用した HTTP/S の経路制御](./securegateway_acl.html#routes)を参照してください。

#### Secure Gateway クライアント UI のパスワードの設定
UI パスワードを設定して、Secure Gateway クライアント UI のアクセスを制限することをお勧めします。開始構成を使用してパスワードを設定する方法、または Secure Gateway クライアント端末コマンド・ラインで対話式コマンドを使用してパスワードを設定する方法について詳しくは、[クライアントとの対話](./securegateway_interaction.html#interacting-with-the-client)を参照してください。
